!function(){"use strict";var a=Backbone.Model.extend({validationTypes:["email","text","number","url","regexp"],validate:function(a,b){console.log(b.type)}});Backbone.Marionette.FormModel=a;var b=Backbone.Marionette.ItemView.extend({defaultSchema:{ui:null,event:null,required:!1,type:"text",message:"invalid field"},bindSchema:function(){_.isEmpty(this.schema)||(_.isUndefined(this.ui)&&(this.ui={}),_.isUndefined(this.model)&&(this.model=new Backbone.Marionette.FormModel),this.undelegateEvents(),_.each(this.schema,_.bind(function(a,b){var c=_.extend(_.clone(this.defaultSchema),a);c.key=b,_.isNull(c.ui)||_.isNull(c.event)||(this.ui[b]=this.$el.find(c.ui),this.delegate(c.event,c.ui,_.bind(this.saveItem,this),c),c.required&&this.listenTo(this.model,"validate:"+b,this.errorItem))},this)))},delegate:function(a,b,c,d){this.$el.on(a+".delegateEvents"+this.cid,b,d,c)},saveItem:function(a){a.data&&!_.isEmpty(a.data)&&this.model.set(a.data.key,this.ui[a.data.key].val(),{validate:a.data.required,type:a.data.type})},errorItem:function(a,b){console.log("validating response.....",b)}});Backbone.Marionette.FormView=b}(window||global||this);